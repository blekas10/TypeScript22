if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("PolarisAuthFormCard.next",["cx","fbt","invariant","ix","IGCoreImage","PolarisAppsellUnit.react","PolarisAuthActionTypes","PolarisAuthActions","PolarisAuthTypeSwitcher.react","PolarisConfig","PolarisConsentModal.react","PolarisFBConnectActions","PolarisFBConnectHelpers","PolarisFacebookAccountPicker.react","PolarisFacebookLoginForm.react","PolarisIGCoreBox","PolarisIGCoreDivider","PolarisIGCorePressable","PolarisIGCoreSpinner","PolarisIGTheme.react","PolarisLandingForm.react","PolarisLoggedOutCtaLogger","PolarisLoggedOutNetzDGReportLink.react","PolarisLoginActions","PolarisLoginLogger","PolarisOneTapLogin","PolarisOneTapLoginForm.react","PolarisPageIdentifierConstants","PolarisPageTimings","PolarisQEHelper","PolarisQueryParams","PolarisQueryParamsHelper","PolarisRecaptcha","PolarisSignupActions","PolarisSignupForm.react","PolarisSignupTypes","PolarisSlimLoginForm.react","PolarisStrategicWebTraffic","PolarisTestAccountTypeConsts","PolarisTwoFactorForm.react","PolarisUA","PolarisisEligibleForFacebookLogin","bx","joinClasses","nullthrows","react","react-redux-wwwig","useShowImmersiveBackground","warning"],(function(a,b,c,d,e,f,g,h,i,j,k){"use strict";var l=d("react"),m=d("react").useEffect,n=i._("Your password has been reset. Please try logging in again."),o=i._("Log in to follow people on Instagram."),p=i._("Two factor authentication lock icon"),q="AuthForm";function r(){var a=d("PolarisIGTheme.react").useTheme().getTheme();return l.jsx("img",{alt:i._("Instagram"),src:a===d("PolarisIGTheme.react").IGTheme.Light?c("bx").getURL(c("bx")("6381")):c("bx").getURL(c("bx")("6019"))})}r.displayName=r.name+" [from "+f.id+"]";function a(a){var b=a.authTypeOverride,e=a.className,f=a.forceLoginIgId,g=a.forceLoginProfilePicUrl,h=a.forceLoginUsername,s=a.hideAppUpsells;s=s===void 0?!1:s;var t=a.hideBorder,u=a.isCaptchaEnabled,v=a.pageIdentifier,w=a.pageType,x=a.recaptchaKey,y=a.showNetzDGReportLink;y=y===void 0?!1:y;var z=a.style;z=z===void 0?"default":z;var A=a.testAccountType,B=A===void 0?d("PolarisTestAccountTypeConsts").TEST_ACCOUNT_TYPE.NoneTestAccount:A;A=a.useMobileFooterPadding;A=A===void 0?!0:A;a=a.usernameHint;var C=d("react-redux-wwwig").useDispatch(),D=d("react-redux-wwwig").useSelector(function(a){return a}),E=D.auth,F=E.authType,G=E.login,H=E.signup,I=E.twoFactor,J=E.next,K=E.isFBLoggedIn;E=D.fb;var L=E.authResponse,M=E.igProfile,N=E.igProfiles,O=E.status;E=E.igSSODisabled;D=D.navigation.isAccountSwitcherOpen;var P=(b=b)!=null?b:F;P!=null||j(0,51551);b=G==null?void 0:G.deletionDate;F=G==null?void 0:G.deletionNonce;var Q=babelHelpers["extends"]({},M,{fbUserID:Number(L==null?void 0:L.userID),linkedIGProfiles:N,igSSODisabled:E});M=G&&G.source==="follow"?o:"";L=G&&G.errorMessage||I&&I.message&&I.message.isError&&I.message.text||null;N=G&&G.requestInFlight||H&&H.requestInFlight||I&&I.requestInFlight||!1;E=H&&H.step;I=G&&G.wasPasswordJustReset?n:"";H=function(a,b,c){C(d("PolarisLoginActions").login(a,b,{source:v},c))};G=function(a){C(d("PolarisLoginActions").loginWithFBJSSDK({source:v},a))};var R=function(a){C(d("PolarisAuthActions").switchAuthType(a))},S=function(a){C(d("PolarisSignupActions").signupWithCaptcha(a,v))},T=function(a){C(d("PolarisFBConnectActions").setShowSSODisabledModal(a))},aa=function(a,b,c,e){C(d("PolarisLoginActions").login(a,b,{source:v},c,!1,e))},ba=function(){C(d("PolarisLoginActions").clearStopDeletionNonce())},ca=function(){C(d("PolarisAuthActions").setFBLoginOverride())};m(function(){d("PolarisPageTimings").componentDisplayStart(q)},[]);var da=function(){var a;a=(a=Q==null?void 0:Q.linkedIGProfiles)!=null?a:[];ca();(Q==null?void 0:Q.igSSODisabled)===!0?(R(d("PolarisAuthActionTypes").AUTH.login),T(Q==null?void 0:Q.username)):a.length>1?R(d("PolarisAuthActionTypes").AUTH.fbAccountPicker):R(d("PolarisAuthActionTypes").AUTH.fbLogin)},U=function(a){d("PolarisLoginLogger").logLoginEvent({event_name:"fb_switch_accounts_click",fbconnect_status:O}),R(a)},ea=function(a){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent({ctaType:"auth_form_card",ctaVersion:a,eventName:"header_click"})},fa=function(){var b;b=(b=Q==null?void 0:Q.linkedIGProfiles)!=null?b:[];var a=f!=null,c=(P===d("PolarisAuthActionTypes").AUTH.fbLogin||P===d("PolarisAuthActionTypes").AUTH.fbAccountPicker)&&K===!0&&!!Q;b=b.length>1;a=!a&&c&&b;return B===d("PolarisTestAccountTypeConsts").TEST_ACCOUNT_TYPE.ShoppingTestAccount?!1:d("PolarisUA").isDesktop()&&!d("PolarisQueryParams").hasForceAuthenticationParam()&&(!(P===d("PolarisAuthActionTypes").AUTH.fbLogin&&!d("PolarisOneTapLogin").isOneTapLoginEligible())||a)},V=l.jsx(l.Fragment,{}),W=f!=null;if(P===d("PolarisAuthActionTypes").AUTH.signup&&!d("PolarisQEHelper").getMultiStepRegQE())V=l.jsx(c("PolarisSignupForm.react"),{isCaptchaEnabled:u,pageIdentifier:v,requestInFlight:N,style:z,testAccountType:B});else if(P===d("PolarisAuthActionTypes").AUTH.twoFactor)V=l.jsx(c("PolarisTwoFactorForm.react"),{errorMessage:L||"",pageIdentifier:v,requestInFlight:N,style:z});else if(!W&&(P===d("PolarisAuthActionTypes").AUTH.fbLogin||P===d("PolarisAuthActionTypes").AUTH.fbAccountPicker)&&K===!0&&Q&&Q.igSSODisabled!==!0){var X;X=(X=Q.linkedIGProfiles)!=null?X:[];var Y=!!Q&&d("PolarisFBConnectHelpers").isFBCUnique(Q.username),Z=X.length<=1,$=d("PolarisQueryParams").getShouldRefreshFBCookie();if(d("PolarisOneTapLogin").isOneTapLoginEligible()&&P!==d("PolarisAuthActionTypes").AUTH.fbAccountPicker&&(!$||Z)){$=d("PolarisOneTapLogin").getLoginNonces();(Object.values($).length>=1||Y)&&(V=l.jsx(c("PolarisOneTapLoginForm.react"),{fbConnectedUser:Y&&Z?Q:null,loginNonces:$,onRequestFBLogin:Y&&Z?G:void 0}))}else X.length>1&&Y?V=l.jsx(c("PolarisFacebookAccountPicker.react"),{fbConnectedIgProfiles:Q.linkedIGProfiles,onRequestFBLogin:G}):V=l.jsx(c("PolarisFacebookLoginForm.react"),{accountInfo:c("nullthrows")(Q),errorMessage:L,fbConnectStatus:O,onRequestLogin:G,onSwitchAccountsClick:U,pageType:w,requestInFlight:N})}else!W&&d("PolarisOneTapLogin").isOneTapLoginEligible()&&P===d("PolarisAuthActionTypes").AUTH.oneTapLogin?V=l.jsx(c("PolarisOneTapLoginForm.react"),{loginNonces:d("PolarisOneTapLogin").getLoginNonces()}):u&&x!=null&&x!==""&&P===d("PolarisAuthActionTypes").AUTH.captcha?V=l.jsx("div",{className:"_ab1x",children:l.jsx(c("PolarisRecaptcha"),{onChange:S,sitekey:x,size:"normal"})}):d("PolarisUA").isMobile()&&P===d("PolarisAuthActionTypes").AUTH.none?V=l.jsx(c("PolarisLandingForm.react"),{}):(c("warning")(P===d("PolarisAuthActionTypes").AUTH.login||P===d("PolarisAuthActionTypes").AUTH.oneTapLogin||P===d("PolarisAuthActionTypes").AUTH.multiStepSignup,'Expected authType to be "login or oneTapLogin"; got "%s"',P),V=l.jsx(c("PolarisSlimLoginForm.react"),{errorMessage:L,fbConnectStatus:O,forceLoginIgId:f,forceLoginProfilePicUrl:g,forceLoginUsername:h,hideFBLogin:!c("PolarisisEligibleForFacebookLogin")(),infoMessage:M,isFBLoggedIn:!!K,isIGSSODisabled:(Q==null?void 0:Q.igSSODisabled)===!0,nextUrl:J,onClearStopDeletionNonce:ba,onLoginWithFBClick:da,onStopAccountDeletion:aa,onSubmit:H,requestInFlight:N,stopDeletionDate:b,stopDeletionNonce:F,style:z,successMessage:I,usernameHint:a}));$=!(s==null||s)&&!d("PolarisStrategicWebTraffic").isStrategicTraffic();Z=d("PolarisUA").isDesktop()&&P===d("PolarisAuthActionTypes").AUTH.signup?E===d("PolarisSignupTypes").STEP.base:!0;X=fa();Y=d("PolarisUA").isMobile()&&P===d("PolarisAuthActionTypes").AUTH.none;G=P!==d("PolarisAuthActionTypes").AUTH.twoFactor&&Z;var ga=G?"original_wordmark":"non_wordmark";W=(U=d("PolarisQueryParamsHelper").getQueryParams(window.location.search))==null?void 0:U.next;u=W!=null?""+window.location.origin+W:v===c("PolarisPageIdentifierConstants").StoriesPage?window.location.href:null;S=c("useShowImmersiveBackground")();return l.jsxs("div",{className:c("joinClasses")("_ab1y"+(z==="modal"?" _ab1z":"")+(d("PolarisUA").isMobile()&&!!A?" _ab1-":"")+(Y?" _ab1_":""),e),children:[l.jsxs("div",{className:"_ab21"+(S?" _aexi":"")+(z==="modal"?" _ab22":"")+(t?" _ab23":""),children:[Z&&l.jsx(c("PolarisIGCoreBox"),{marginBottom:3,marginTop:9,children:l.jsx(c("PolarisIGCorePressable"),{onPress:function(){return ea(ga)},children:P===d("PolarisAuthActionTypes").AUTH.twoFactor?l.jsx(c("IGCoreImage"),{alt:p,src:{light:k("222729")}}):G?l.jsx(c("IGCoreImage"),{alt:i._("Instagram"),src:S?{light:k("222731")}:{light:k("222730"),dark:k("222731")}}):l.jsx(c("PolarisIGCoreBox"),{height:70,marginBottom:5,width:70,children:l.jsx(r,{})})})}),(P===d("PolarisAuthActionTypes").AUTH.fbLogin||P===d("PolarisAuthActionTypes").AUTH.fbAccountPicker)&&K==null?l.jsx(c("PolarisIGCoreBox"),{alignItems:"center",justifyContent:"center",minHeight:160,children:l.jsx(c("PolarisIGCoreSpinner"),{size:"small"})}):V,y===!0&&d("PolarisConfig").isNetzDGEligible()&&l.jsxs(c("PolarisIGCoreBox"),{marginEnd:d("PolarisUA").isMobile()?1:0,marginStart:d("PolarisUA").isMobile()?1:0,paddingX:d("PolarisUA").isMobile()?12:8,paddingY:d("PolarisUA").isMobile()?8:4,children:[d("PolarisUA").isMobile()&&l.jsx(c("PolarisIGCoreBox"),{marginBottom:6,children:l.jsx(c("PolarisIGCoreDivider"),{})}),l.jsx(c("PolarisLoggedOutNetzDGReportLink.react"),{reportedUrlOrContentId:u,textSize:"footnote"})]})]}),l.jsx(c("PolarisConsentModal.react"),{}),X&&!D&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"_ab21",children:l.jsx(c("PolarisAuthTypeSwitcher.react"),{className:"_ab25"+(P===d("PolarisAuthActionTypes").AUTH.oneTapLogin?" _ab26":""),pageType:w,primary:!0})}),$?l.jsx(c("PolarisAppsellUnit.react"),{appInstallCampaign:v}):null]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisDirectShell.next",["PolarisCallGatingHelpers","PolarisConditionalPageLayoutHandler.react","PolarisCreationModal.react","PolarisDesktopNav.react","PolarisIGCoreBox","PolarisIncomingCall.react","PolarisPageIdentifierConstants","PolarisPanavisionQEHelpers","PolarisQEHelper","PolarisRefreshedBaseShell.react","PolarisSwitchAccountsModal.react","PolarisTargetedPortal.react","PolarisToastWrapper.react","PolarisUA","cr:3474","react","react-redux-wwwig","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={desktopContent:{backgroundColor:"xnz67gz",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",height:"x5yr21d",maxHeight:"xmz0i5r",paddingTop:"x1jbp7et"},mobileContent:{flexGrow:"x1iyjqo2",height:"x5yr21d",maxHeight:"xmz0i5r",paddingTop:"x1d4aqvv"},root:{height:"x5yr21d",width:"xh8yej3"}};function a(a){a=a.children;var e=d("react-redux-wwwig").useSelector(function(a){return a.navigation.isAccountSwitcherOpen}),f=d("react-redux-wwwig").useSelector(function(a){return a.navigation.isFeedCreationModalOpen}),g=null;d("PolarisUA").isDesktop()&&f&&d("PolarisQEHelper").hasFeedCreation()&&(g=h.jsx(c("PolarisCreationModal.react"),{}));f=h.jsxs(c("PolarisRefreshedBaseShell.react"),{xstyle:i.root,children:[d("PolarisUA").isDesktop()?h.jsxs("div",{className:c("stylex")(i.desktopContent),children:[h.jsxs(c("PolarisIGCoreBox"),{flex:"grow",height:"100%",width:"100%",children:[b("cr:3474")?h.jsxs(b("cr:3474"),{children:[d("PolarisCallGatingHelpers").isIncomingCallEnabled()&&h.jsx(c("PolarisIncomingCall.react"),{}),a]}):h.jsxs(h.Fragment,{children:[d("PolarisCallGatingHelpers").isIncomingCallEnabled()&&h.jsx(c("PolarisIncomingCall.react"),{}),a]}),h.jsx(c("PolarisToastWrapper.react"),{})]}),d("PolarisPanavisionQEHelpers").hasSideNavigation?null:h.jsx("div",{style:{order:d("PolarisUA").isMobile()?5:0},children:h.jsx(c("PolarisDesktopNav.react"),{analyticsContext:c("PolarisPageIdentifierConstants").DirectInboxPage,hideSearchBar:!1,hideSignUpAndLogInText:!1})})]}):h.jsxs(d("PolarisTargetedPortal.react").TargetedPortalProvider,{children:[h.jsx(d("PolarisTargetedPortal.react").PortalTarget,{targetId:"direct-mobile-header"}),h.jsx("div",{className:c("stylex")(i.mobileContent),children:a}),h.jsx(c("PolarisToastWrapper.react"),{})]}),e&&d("PolarisQEHelper").hasAccountSwitching()&&h.jsx(c("PolarisSwitchAccountsModal.react"),{}),g]});return c("PolarisConditionalPageLayoutHandler.react")!=null?h.jsx(c("PolarisConditionalPageLayoutHandler.react"),{mainComponent:h.jsx("div",{style:{height:"100%",width:"100%"},children:f})}):f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);